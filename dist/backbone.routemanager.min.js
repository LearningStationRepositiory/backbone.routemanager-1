/* backbone.routemanager.js v0.0.0
 * Copyright 2011, Tim Branyen (@tbranyen)
 * backbone.routemanager.js may be freely distributed under the MIT license.
 *//* JavaScript Sync/Async forEach - v0.1.2 - 11/17/2011
 * http://github.com/cowboy/javascript-sync-async-foreach
 * Copyright (c) 2011 "Cowboy" Ben Alman; Licensed MIT, GPL */(function(a,b,c){"use strict";var d={forEach:function(a,b,c){var d=-1,e=a.length>>>0;(function f(g){var h,j=g===!1;do++d;while(!(d in a)&&d!==e);if(j||d===e){c&&c(!j,a);return}g=b.call({async:function(){return h=!0,f}},a[d],d,a),h||f(g)})()}},e=a.RouteManager=a.Router.extend({constructor:function(c){var d,e=this,f={},g=this.routers={};b.bindAll(this),b.each(c.routes,function(h,i){var j=i||"";j[j.length-1]=="/"?j=j.slice(0,j.length-1):j&&(j+="/");if(h.prototype instanceof a.Router)d=h.extend({constructor:function(){var c={};return b.each(this.routes,function(a,b){if(b)return c[j+"/"+b]=a;c[j]=a}),this.routes=c,a.Router.prototype.constructor.call(this)}}),g[i]=new d;else if(b.isString(h)&&b.isString(i)){e[h]=c[h],delete c[h];if(i)return f[j+i]=h;f[j]=h}}),this.routes=f,a.Router.prototype.constructor.call(this)},navigate:function(a,c){var d,e=this;d=b.detect(this.routers,function(b,c){if(a.indexOf(c)==0)return b}),d=d||e,d.navigate(a,c)},route:function(){return a.Router.prototype.route.apply(this,arguments)}},{configure:function(c){var d=a.RouteManager.prototype.options;b.isObject(c)&&b.extend(d,c)}});a.RouteManager.prototype.options={deferred:function(){return c.Deferred()}}}).call(this,this.Backbone,this._,this.jQuery)