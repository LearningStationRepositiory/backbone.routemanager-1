<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>backbone.routemanager Test Suite</title>
  <script src="jquery.js"></script>
  <script src="underscore.js"></script>
  <script src="backbone.js"></script>
  <script src="../backbone.routemanager.js"></script>

  <!-- Test scripts -->
  <script>

  var harness = {};

  // Set up a test router
  harness.SubRouter = Backbone.RouteManager.Router.extend({
    routes: {
      "": "test"
    },

    test: function() {
      harness.data = {
        route: "sub/",
        context: this,
        args: arguments
      };
    }
  });

  // Set up the router
  harness.router = new Backbone.RouteManager({
    routes: {
      "sub/": harness.SubRouter,

      "": "index"
    },

    index: function() {
      console.log("lol");
      harness.data = {
        route: "/",
        context: this,
        args: arguments
      };
    }
  });

// Do not trigger the initial route
Backbone.history.start({ silent: true });

// Trigger the manager route
harness.router.navigate("", true);

console.log(harness.data.route, "/", "Sub route triggered");
    
  </script>
</head>

<body>
</body>
</html>

